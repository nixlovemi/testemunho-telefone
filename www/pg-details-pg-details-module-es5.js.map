{"version":3,"sources":["webpack:///src/app/pg-details/pg-details.page.html","webpack:///src/app/pg-details/pg-details-routing.module.ts","webpack:///src/app/pg-details/pg-details.module.ts","webpack:///src/app/pg-details/pg-details.page.scss","webpack:///src/app/pg-details/pg-details.page.ts"],"names":["routes","path","component","PgDetailsPageRoutingModule","imports","forChild","exports","PgDetailsPageModule","declarations","Browser","PgDetailsPage","actRoute","db","utilsSrv","navCtrl","modalController","zone","callNumber","params","subscribe","res","ddd","phone","loadData","run","setTimeout","getPhone","then","Phone","content","noContent","length","idx","create","componentProps","type","modal","present","onWillDismiss","data","reload","showAlert","text","role","cssClass","handler","blah","postDelete","deletePhone","ret","navigateBack","event","target","complete","err","selector","template"],"mappings":"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","file":"pg-details-pg-details-module-es5.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar> <!-- mode=\\\"ios\\\" -->\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n        <ion-title class=\\\"toolbar-title\\\">\\n            Testemunho Telefone\\n        </ion-title>\\n        <ion-buttons (click)=\\\"delete()\\\" slot=\\\"end\\\">\\n            <ion-icon class=\\\"icon-header\\\" slot=\\\"icon-only\\\" src=\\\"assets/trash.svg\\\" color=\\\"danger\\\"></ion-icon>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-fab (click)=\\\"addContent()\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button>\\n            <ion-icon class=\\\"icon-footer\\\" name=\\\"add-circle\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n\\n    <div class=\\\"home-header\\\">\\n        <h1 class=\\\"title\\\">Detalhes</h1>\\n    </div>\\n\\n    <div class=\\\"container\\\">\\n        <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n            <ion-refresher-content></ion-refresher-content>\\n        </ion-refresher>\\n\\n        <ion-card>\\n            <ion-card-header>\\n                <ion-card-title>\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/tools-and-utensils.svg\\\"></ion-icon>\\n                    <span>({{ ddd }}) {{phone}}</span>\\n                </ion-card-title>\\n            </ion-card-header>\\n            <ion-card-content class=\\\"dv-btn-call\\\">\\n                <ion-button color=\\\"tertiary\\\" (click)=\\\"makeCall()\\\">\\n                    <ion-icon slot=\\\"start\\\" name=\\\"megaphone-outline\\\"></ion-icon>\\n                    Ligar\\n                </ion-button>\\n                <!--<ion-button color=\\\"tertiary\\\" (click)=\\\"openWhats()\\\">-->\\n                <ion-button color=\\\"tertiary\\\" [href]=\\\" 'whatsapp://send?phone=55' + ddd + phone \\\">    \\n                    <ion-icon slot=\\\"start\\\" name=\\\"logo-whatsapp\\\"></ion-icon>\\n                    Whatsapp\\n                </ion-button>\\n            </ion-card-content>\\n        </ion-card>\\n\\n        <ion-card class=\\\"card-history\\\" *ngIf=\\\"noContent\\\">\\n            <ion-card-content>\\n                <p class=\\\"line-info\\\">\\n                    <span>Nenhum contato registrado!</span>\\n                </p>\\n            </ion-card-content>\\n        </ion-card>\\n\\n        <ion-card class=\\\"card-history\\\" *ngFor=\\\"let cont of content; let i = index\\\">\\n            <ion-card-content>\\n                <ion-icon (click)=\\\"edit(i)\\\" class=\\\"edit-icon\\\" color=\\\"primary\\\" src=\\\"assets/edit-rounded-2.svg\\\"></ion-icon>\\n\\n                <p class=\\\"line-info\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/calendario.svg\\\"></ion-icon>\\n                    <span>Data: {{ cont.date | date : 'dd/MM/y' }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/tag.svg\\\"></ion-icon>\\n                    <span>Tipo: {{ cont.type }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\" *ngIf=\\\"cont.name !== ''\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/silhueta-de-usuario-1.svg\\\"></ion-icon>\\n                    <span>Nome: {{ cont.name }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\" *ngIf=\\\"cont.text !== ''\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/revista-aberta.svg\\\"></ion-icon>\\n                    <span>Texto: {{ cont.text }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\" *ngIf=\\\"cont.publication !== ''\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/revistas.svg\\\"></ion-icon>\\n                    <span>Publicação: {{ cont.publication }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/notas.svg\\\"></ion-icon>\\n                    <span>Notas: {{ cont.anotations }}</span>\\n                </p>\\n            </ion-card-content>\\n        </ion-card>\\n    </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PgDetailsPage } from './pg-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PgDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PgDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PgDetailsPageRoutingModule } from './pg-details-routing.module';\n\nimport { PgDetailsPage } from './pg-details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PgDetailsPageRoutingModule\n  ],\n  declarations: [PgDetailsPage]\n})\nexport class PgDetailsPageModule {}\n","export default \".line-info span {\\n  position: relative;\\n  top: -2px;\\n  left: 6px;\\n}\\n\\n.icon-title {\\n  font-size: 17px;\\n}\\n\\n.edit-icon {\\n  font-size: 30px;\\n  position: absolute;\\n  right: -9px;\\n  top: 6px;\\n}\\n\\n.card-history ion-card-content {\\n  padding-left: 0 !important;\\n}\\n\\n.dv-btn-call {\\n  text-align: center;\\n}\\n\\n.dv-btn-call ion-button {\\n  font-size: 0.8em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZWFuZHJvcGFycmEvRG9jdW1lbnRzL1Byb2plY3RzL3Rlc3RlbXVuaG8tdGVsZWZvbmUvc3JjL2FwcC9wZy1kZXRhaWxzL3BnLWRldGFpbHMucGFnZS5zY3NzIiwic3JjL2FwcC9wZy1kZXRhaWxzL3BnLWRldGFpbHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtBQ0FSOztBREdBO0VBQ0ksZUFBQTtBQ0FKOztBREVBO0VBQ0ksZUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFFBQUE7QUNDSjs7QURFSTtFQUNJLDBCQUFBO0FDQ1I7O0FERUE7RUFDSSxrQkFBQTtBQ0NKOztBRENJO0VBQ0ksZ0JBQUE7QUNDUiIsImZpbGUiOiJzcmMvYXBwL3BnLWRldGFpbHMvcGctZGV0YWlscy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGluZS1pbmZvIHtcbiAgICBzcGFuIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB0b3A6IC0ycHg7XG4gICAgICAgIGxlZnQ6IDZweDtcbiAgICB9XG59XG4uaWNvbi10aXRsZXtcbiAgICBmb250LXNpemU6IDE3cHg7XG59XG4uZWRpdC1pY29uIHtcbiAgICBmb250LXNpemU6IDMwcHg7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAtOXB4O1xuICAgIHRvcDogNnB4O1xufVxuLmNhcmQtaGlzdG9yeSB7XG4gICAgaW9uLWNhcmQtY29udGVudCB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMCAhaW1wb3J0YW50O1xuICAgIH1cbn1cbi5kdi1idG4tY2FsbHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgICBpb24tYnV0dG9uIHtcbiAgICAgICAgZm9udC1zaXplOiAwLjhlbTtcbiAgICB9XG59IiwiLmxpbmUtaW5mbyBzcGFuIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IC0ycHg7XG4gIGxlZnQ6IDZweDtcbn1cblxuLmljb24tdGl0bGUge1xuICBmb250LXNpemU6IDE3cHg7XG59XG5cbi5lZGl0LWljb24ge1xuICBmb250LXNpemU6IDMwcHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IC05cHg7XG4gIHRvcDogNnB4O1xufVxuXG4uY2FyZC1oaXN0b3J5IGlvbi1jYXJkLWNvbnRlbnQge1xuICBwYWRkaW5nLWxlZnQ6IDAgIWltcG9ydGFudDtcbn1cblxuLmR2LWJ0bi1jYWxsIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuLmR2LWJ0bi1jYWxsIGlvbi1idXR0b24ge1xuICBmb250LXNpemU6IDAuOGVtO1xufSJdfQ== */\";","import { Component, OnInit, NgZone } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController, ModalController } from '@ionic/angular';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { Plugins } from '@capacitor/core';\nconst { Browser } = Plugins;\n\nimport { DatabaseService } from './../database.service';\nimport { UtilsService } from './../utils.service';\nimport { PgAddContentPage } from '../pg-add-content/pg-add-content.page';\n\n@Component({\n  selector: 'app-pg-details',\n    templateUrl: './pg-details.page.html',\n    styleUrls: ['./pg-details.page.scss'],\n})\n// tslint:disable-next-line: component-class-suffix\nexport class PgDetailsPage implements OnInit {\n    ddd: string;\n    phone: string;\n    content: [];\n    noContent: any;\n\n    constructor(\n        private actRoute: ActivatedRoute,\n        private db: DatabaseService,\n        private utilsSrv: UtilsService,\n        private navCtrl: NavController,\n        public modalController: ModalController,\n        private zone: NgZone,\n        private callNumber: CallNumber,\n    ) { }\n\n    ngOnInit() {\n    }\n\n    async ionViewWillEnter() {\n        await this.actRoute.params.subscribe((res) => {\n            this.ddd = res.ddd;\n            this.phone = res.phone;\n        });\n\n        this.loadData();\n    }\n\n    private loadData() {\n        this.zone.run(() => {\n            setTimeout(() => {\n                this.db.getPhone(this.ddd, this.phone).then((Phone) => {\n                    this.content   = Phone.content;\n                    this.noContent = (this.content.length === 0);\n                });\n            }, 650);\n\n            /*const Phone    = await this.db.getPhone(this.ddd, this.phone);\n            this.content   = Phone.content;\n            this.noContent = (this.content.length === 0);*/\n        });\n    }\n\n    async edit(idx: any) {\n        const modal = await this.modalController.create({\n            component: PgAddContentPage,\n            componentProps: {\n                type: 'edit',\n                ddd: this.ddd,\n                phone: this.phone,\n                idx\n            }\n        });\n        await modal.present();\n        const { data } = await modal.onWillDismiss();\n        if (data.reload) {\n            this.loadData();\n        }\n    }\n\n    delete() {\n        this.utilsSrv.showAlert('Confirmação!', '', 'Deseja realmente deletar esse telefone? Essa ação não poderá ser desfeita.', [\n            {\n                text: 'Não ...',\n                role: 'cancel',\n                cssClass: 'secondary',\n                handler: (blah) => { }\n            }, {\n                text: 'Sim!',\n                handler: () => {\n                    this.postDelete();\n                }\n            }\n        ]);\n    }\n\n    private async postDelete() {\n        const ret = await this.db.deletePhone(this.ddd, this.phone);\n        if (ret){\n            this.navCtrl.navigateBack('');\n        }\n    }\n\n    async addContent() {\n        const modal = await this.modalController.create({\n            component: PgAddContentPage,\n            componentProps: {\n                type: 'insert',\n                ddd: this.ddd,\n                phone: this.phone\n            }\n        });\n        await modal.present();\n        const { data } = await modal.onWillDismiss();\n        this.loadData();\n    }\n\n    async doRefresh(event: any) {\n        this.loadData();\n\n        setTimeout(() => {\n          event.target.complete();\n        }, 1500);\n    }\n\n    makeCall() {\n        this.callNumber.callNumber(this.ddd + this.phone, true)\n            .catch(err => this.utilsSrv.showAlert('Alerta', '', 'Não foi permitido fazer a ligação. Mensagem: ' + err, ['OK']));\n    }\n\n    /*async openWhats(){\n        await Browser.open({\n            url: 'whatsapp://send?phone=' + this.ddd + this.phone\n        });\n    }*/\n}\n"]}