{"version":3,"sources":["./src/app/pg-details/pg-details.page.html","./src/app/pg-details/pg-details-routing.module.ts","./src/app/pg-details/pg-details.module.ts","./src/app/pg-details/pg-details.page.scss","./src/app/pg-details/pg-details.page.ts"],"names":[],"mappings":"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","file":"pg-details-pg-details-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar> <!-- mode=\\\"ios\\\" -->\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button></ion-back-button>\\n        </ion-buttons>\\n        <ion-title class=\\\"toolbar-title\\\">\\n            Testemunho Telefone\\n        </ion-title>\\n        <ion-buttons (click)=\\\"delete()\\\" slot=\\\"end\\\">\\n            <ion-icon class=\\\"icon-header\\\" slot=\\\"icon-only\\\" src=\\\"assets/trash.svg\\\" color=\\\"danger\\\"></ion-icon>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <ion-fab (click)=\\\"addContent()\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button>\\n            <ion-icon class=\\\"icon-footer\\\" name=\\\"add-circle\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n\\n    <div class=\\\"home-header\\\">\\n        <h1 class=\\\"title\\\">Detalhes</h1>\\n    </div>\\n\\n    <div class=\\\"container\\\">\\n        <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n            <ion-refresher-content></ion-refresher-content>\\n        </ion-refresher>\\n\\n        <ion-card>\\n            <ion-card-header>\\n                <ion-card-title>\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/tools-and-utensils.svg\\\"></ion-icon>\\n                    <span>({{ ddd }}) {{phone}}</span>\\n                </ion-card-title>\\n            </ion-card-header>\\n            <ion-card-content class=\\\"dv-btn-call\\\">\\n                <ion-button color=\\\"tertiary\\\" (click)=\\\"makeCall()\\\">\\n                    <ion-icon slot=\\\"start\\\" name=\\\"megaphone-outline\\\"></ion-icon>\\n                    Ligar\\n                </ion-button>\\n                <!--<ion-button color=\\\"tertiary\\\" (click)=\\\"openWhats()\\\">-->\\n                <ion-button color=\\\"tertiary\\\" [href]=\\\" 'whatsapp://send?phone=55' + ddd + phone \\\">    \\n                    <ion-icon slot=\\\"start\\\" name=\\\"logo-whatsapp\\\"></ion-icon>\\n                    Whatsapp\\n                </ion-button>\\n            </ion-card-content>\\n        </ion-card>\\n\\n        <ion-card class=\\\"card-history\\\" *ngIf=\\\"noContent\\\">\\n            <ion-card-content>\\n                <p class=\\\"line-info\\\">\\n                    <span>Nenhum contato registrado!</span>\\n                </p>\\n            </ion-card-content>\\n        </ion-card>\\n\\n        <ion-card class=\\\"card-history\\\" *ngFor=\\\"let cont of content; let i = index\\\">\\n            <ion-card-content>\\n                <ion-icon (click)=\\\"edit(i)\\\" class=\\\"edit-icon\\\" color=\\\"primary\\\" src=\\\"assets/edit-rounded-2.svg\\\"></ion-icon>\\n\\n                <p class=\\\"line-info\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/calendario.svg\\\"></ion-icon>\\n                    <span>Data: {{ cont.date | date : 'dd/MM/y' }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/tag.svg\\\"></ion-icon>\\n                    <span>Tipo: {{ cont.type }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\" *ngIf=\\\"cont.name !== ''\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/silhueta-de-usuario-1.svg\\\"></ion-icon>\\n                    <span>Nome: {{ cont.name }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\" *ngIf=\\\"cont.text !== ''\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/revista-aberta.svg\\\"></ion-icon>\\n                    <span>Texto: {{ cont.text }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\" *ngIf=\\\"cont.publication !== ''\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/revistas.svg\\\"></ion-icon>\\n                    <span>Publicação: {{ cont.publication }}</span>\\n                </p>\\n                <p class=\\\"line-info\\\">\\n                    <ion-icon color=\\\"primary\\\" class=\\\"icon-title\\\" src=\\\"assets/notas.svg\\\"></ion-icon>\\n                    <span>Notas: {{ cont.anotations }}</span>\\n                </p>\\n            </ion-card-content>\\n        </ion-card>\\n    </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PgDetailsPage } from './pg-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PgDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PgDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PgDetailsPageRoutingModule } from './pg-details-routing.module';\n\nimport { PgDetailsPage } from './pg-details.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PgDetailsPageRoutingModule\n  ],\n  declarations: [PgDetailsPage]\n})\nexport class PgDetailsPageModule {}\n","export default \".line-info span {\\n  position: relative;\\n  top: -2px;\\n  left: 6px;\\n}\\n\\n.icon-title {\\n  font-size: 17px;\\n}\\n\\n.edit-icon {\\n  font-size: 30px;\\n  position: absolute;\\n  right: -9px;\\n  top: 6px;\\n}\\n\\n.card-history ion-card-content {\\n  padding-left: 0 !important;\\n}\\n\\n.dv-btn-call {\\n  text-align: center;\\n}\\n\\n.dv-btn-call ion-button {\\n  font-size: 0.8em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sZWFuZHJvcGFycmEvUHJvamVjdHMvdGVzdGVtdW5oby10ZWxlZm9uZS9zcmMvYXBwL3BnLWRldGFpbHMvcGctZGV0YWlscy5wYWdlLnNjc3MiLCJzcmMvYXBwL3BnLWRldGFpbHMvcGctZGV0YWlscy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0FDQVI7O0FER0E7RUFDSSxlQUFBO0FDQUo7O0FERUE7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtBQ0NKOztBREVJO0VBQ0ksMEJBQUE7QUNDUjs7QURFQTtFQUNJLGtCQUFBO0FDQ0o7O0FEQ0k7RUFDSSxnQkFBQTtBQ0NSIiwiZmlsZSI6InNyYy9hcHAvcGctZGV0YWlscy9wZy1kZXRhaWxzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5saW5lLWluZm8ge1xuICAgIHNwYW4ge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHRvcDogLTJweDtcbiAgICAgICAgbGVmdDogNnB4O1xuICAgIH1cbn1cbi5pY29uLXRpdGxle1xuICAgIGZvbnQtc2l6ZTogMTdweDtcbn1cbi5lZGl0LWljb24ge1xuICAgIGZvbnQtc2l6ZTogMzBweDtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgcmlnaHQ6IC05cHg7XG4gICAgdG9wOiA2cHg7XG59XG4uY2FyZC1oaXN0b3J5IHtcbiAgICBpb24tY2FyZC1jb250ZW50IHtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAwICFpbXBvcnRhbnQ7XG4gICAgfVxufVxuLmR2LWJ0bi1jYWxse1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICAgIGlvbi1idXR0b24ge1xuICAgICAgICBmb250LXNpemU6IDAuOGVtO1xuICAgIH1cbn0iLCIubGluZS1pbmZvIHNwYW4ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogLTJweDtcbiAgbGVmdDogNnB4O1xufVxuXG4uaWNvbi10aXRsZSB7XG4gIGZvbnQtc2l6ZTogMTdweDtcbn1cblxuLmVkaXQtaWNvbiB7XG4gIGZvbnQtc2l6ZTogMzBweDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogLTlweDtcbiAgdG9wOiA2cHg7XG59XG5cbi5jYXJkLWhpc3RvcnkgaW9uLWNhcmQtY29udGVudCB7XG4gIHBhZGRpbmctbGVmdDogMCAhaW1wb3J0YW50O1xufVxuXG4uZHYtYnRuLWNhbGwge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uZHYtYnRuLWNhbGwgaW9uLWJ1dHRvbiB7XG4gIGZvbnQtc2l6ZTogMC44ZW07XG59Il19 */\";","import { Component, OnInit, NgZone } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController, ModalController } from '@ionic/angular';\nimport { CallNumber } from '@ionic-native/call-number/ngx';\nimport { Plugins } from '@capacitor/core';\nconst { Browser } = Plugins;\n\nimport { DatabaseService } from './../database.service';\nimport { UtilsService } from './../utils.service';\nimport { PgAddContentPage } from '../pg-add-content/pg-add-content.page';\n\n@Component({\n  selector: 'app-pg-details',\n    templateUrl: './pg-details.page.html',\n    styleUrls: ['./pg-details.page.scss'],\n})\n// tslint:disable-next-line: component-class-suffix\nexport class PgDetailsPage implements OnInit {\n    ddd: string;\n    phone: string;\n    content: [];\n    noContent: any;\n\n    constructor(\n        private actRoute: ActivatedRoute,\n        private db: DatabaseService,\n        private utilsSrv: UtilsService,\n        private navCtrl: NavController,\n        public modalController: ModalController,\n        private zone: NgZone,\n        private callNumber: CallNumber,\n    ) { }\n\n    ngOnInit() {\n    }\n\n    async ionViewWillEnter() {\n        await this.actRoute.params.subscribe((res) => {\n            this.ddd = res.ddd;\n            this.phone = res.phone;\n        });\n\n        this.loadData();\n    }\n\n    private loadData() {\n        this.zone.run(() => {\n            setTimeout(() => {\n                this.db.getPhone(this.ddd, this.phone).then((Phone) => {\n                    this.content   = Phone.content;\n                    this.noContent = (this.content.length === 0);\n                });\n            }, 650);\n\n            /*const Phone    = await this.db.getPhone(this.ddd, this.phone);\n            this.content   = Phone.content;\n            this.noContent = (this.content.length === 0);*/\n        });\n    }\n\n    async edit(idx: any) {\n        const modal = await this.modalController.create({\n            component: PgAddContentPage,\n            componentProps: {\n                type: 'edit',\n                ddd: this.ddd,\n                phone: this.phone,\n                idx\n            }\n        });\n        await modal.present();\n        const { data } = await modal.onWillDismiss();\n        if (data.reload) {\n            this.loadData();\n        }\n    }\n\n    delete() {\n        this.utilsSrv.showAlert('Confirmação!', '', 'Deseja realmente deletar esse telefone? Essa ação não poderá ser desfeita.', [\n            {\n                text: 'Não ...',\n                role: 'cancel',\n                cssClass: 'secondary',\n                handler: (blah) => { }\n            }, {\n                text: 'Sim!',\n                handler: () => {\n                    this.postDelete();\n                }\n            }\n        ]);\n    }\n\n    private async postDelete() {\n        const ret = await this.db.deletePhone(this.ddd, this.phone);\n        if (ret){\n            this.navCtrl.navigateBack('');\n        }\n    }\n\n    async addContent() {\n        const modal = await this.modalController.create({\n            component: PgAddContentPage,\n            componentProps: {\n                type: 'insert',\n                ddd: this.ddd,\n                phone: this.phone\n            }\n        });\n        await modal.present();\n        const { data } = await modal.onWillDismiss();\n        this.loadData();\n    }\n\n    async doRefresh(event: any) {\n        this.loadData();\n\n        setTimeout(() => {\n          event.target.complete();\n        }, 1500);\n    }\n\n    makeCall() {\n        this.callNumber.callNumber(this.ddd + this.phone, true)\n            .catch(err => this.utilsSrv.showAlert('Alerta', '', 'Não foi permitido fazer a ligação. Mensagem: ' + err, ['OK']));\n    }\n\n    /*async openWhats(){\n        await Browser.open({\n            url: 'whatsapp://send?phone=' + this.ddd + this.phone\n        });\n    }*/\n}\n"],"sourceRoot":"webpack:///"}